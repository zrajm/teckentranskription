<!doctype html><!--*- ispell-dictionary: "svenska" -*-->
<html lang=sv>
<head>
  <!-- Copyright 2017 by zrajm. Released under GPLv3 license. -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
  <title>TSP-Lex!</title>
  <link rel=stylesheet href="intro.css">
  <link rel=license href="LICENSE.txt">
  <style>
    @-ms-viewport{ width: device-width; }
    /* Search query <textarea> */
    #q {
      flex-grow: 1;
      margin: 0;
      overflow: hidden;
      resize: none;
      white-space: pre;
      padding-left: .5em; line-height: 1.4;
      border: 0; border-radius: 4px;
      transition: background 0.2s ease-out;
      background:
          url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="17.49" height="17.49" fill="%23fff"><path d="M6.5 11C4.01 11 2 8.99 2 6.5S4.01 2 6.5 2 11 4.01 11 6.5 8.99 11 6.5 11zm6 0h-.79l-.28-.27A6.471 6.471 0 0 0 13 6.5 6.5 6.5 0 1 0 6.5 13c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L17.49 16l-4.99-5z" fill="%23000" fill-opacity=".498"/></svg>') center left .5em/auto 1em no-repeat,
          rgba(255, 255, 255, .5);
    }
    #q:valid { background-image: url(); } /* remove placeholder icon */
    #help:focus,
    #q:focus,
    #kb-icon:focus { background-color: white; }
    #kb-icon { background: transparent; }
    #help:before {
      position: absolute;
      top: 0; bottom: 0; left: 0; right: 0;
      margin: auto;
      content: "?";
      color: #000;
      height: 1.1em;
      font-size: 125%;
      font-weight: 900;
    }
    #help {
      flex-shrink: 0;
      position: relative;
      left: .4em;
      width: 1.75em;
      border-radius: 50%;
      background: rgba(255, 255, 255, .5);
      color: transparent;
    }

    main { margin: 0 1em; }
    footer, .status {
      font-size: smaller;
      opacity: .5;
      margin-top: 1em;
    }
    .status { margin: .5em 0; }
    .status:after {
      content: "";
      display: table;
      clear: both;
    }
    body {
      display: flex;
      flex-direction: column;
    }
    header {
      display: flex;
      background: #07bccd;
      padding: .5em 1em;
      box-shadow: 0 0 8px 4px rgba(0, 0, 0, .14);
    }
    .columns {
      columns: 25em;
      column-gap: 1em;
      column-fill: auto;
    }

    /*************************************************************************/
    /* Result mode selector switch (video/text). */

    #select { float:right; }
    #select > .switch {
      vertical-align: middle;
      display: inline-block;
      width: 2em;
      height: 1em;
      background: #ccc;
      border: 1px solid black;
      border-radius: 4px;
      box-shadow: inset 0 2px 5px 3px #999;
      position: relative;
    }
    #select > .switch:before {
      transition: all .05s ease-in;
      content: '';
      width: 50%;
      height: 100%;
      background: white;
      position: absolute;
      border: inherit;
      border-radius: inherit;
      margin: -1px;
    }
    .text-view #select > .switch:before { right: 0; }
    .video-view #select > .switch:before { left: 0; }
    .video-view #select > .video { font-weight: bold; }
    .text-view #select > .text { font-weight: bold; }

    /*************************************************************************/
    /* Stuff common to both result views (video/text). */

    #results {
      margin: .25em 0;
    }

    #results > .match {
      column-break-inside: avoid;
      -moz-column-break-inside: avoid;
      -webkit-column-break-inside: avoid;
    }
    .fingerspell {
      text-transform: lowercase;
      font-variant: small-caps;
    }

    /*************************************************************************/
    /* Stuff for text result view (text/video). */

    .text-view #results {
      column-gap: 1em;
      columns: 14em;
      margin-top: -.25em;
    }
    .text-view #results > .match {
      margin: .125em 0;
      text-indent: -1em;
      padding-left: 1em;
    }
    .text-view .video-container {
      display: inline;
    }
    .text-view .video-container,
    .text-view .video-container > * {
      display: inline;
    }
    .text-view .video-container,
    .text-view .video-container .video-id { margin-left: 0; }
    .text-view .video-container .video-id { font-size: 95%; }

    .text-view .video-container > img,
    .text-view .video-container > video,
    .text-view .video-feedback {
      display: none;
    }
    .text-view .video-id:hover { opacity: 1; }
    .text-view .video-subs a {
      font-size: 95%;
      opacity: .65;
      color: #000;
    }
    .text-view .match > a {
      color: inherit;
    }

    /*************************************************************************/
    /* Stuff for video result view (text/video). */

    .video-view #results {
      margin-top: -.125em; /* counter padding above 1st row of match <div>s */
      word-spacing: .5em;  /* space between #results matches */
    }
    .video-view #results > * { word-spacing: normal; }

    .video-view #results > .match {
      display: inline-block;
      width: 270px;                            /* same as .video-container */
      margin: .25em 0 .25em 0;
      text-align: center;

      /* text: center or truncate if too long */
      white-space: nowrap;
      text-align: center;
      text-overflow: ellipsis;
      overflow: hidden;
    }
    .video-view .match > a:hover,
    .video-view .match > a:focus {
      text-decoration: underline;
    }
    .video-view .video-container.is-loading {
      background-image: url(pic/gui/image-loading.jpg);
    }
    .video-view .video-container.is-broken:before,
    .video-view .video-container.is-loading-video:before {
      content: '';
      position: absolute;
      width: 100%; height: 100%;
    }
    .video-view .video-container.is-broken:before {
      background: no-repeat center url(pic/gui/image-broken.svg);
    }
    .video-view .video-container.is-loading-video:before {
      background: no-repeat center url(pic/gui/video-loading.svg);
    }

    .video-view .video-container.is-loading img,
    .video-view .video-container.is-broken img {
      opacity: 0;                              /* hide but allow clicks etc. */
    }
    .video-view .video-container {
      background: no-repeat center url(pic/gui/image-loading.jpg) #07bccd;
      position: relative;  /* for subtitle+id positioning */
      border-radius: 4px;

      /* center video + truncate sides for 16:19 videos */
      overflow: hidden;
      display: flex;
      justify-content: center;
      width: 270px;                            /* same as #results > .match */
      height: 202px;

      /* text color + outline */
      color: #fff;
      text-shadow:
         1px  1px 1px #000,
         1px -1px 1px #000,
        -1px  1px 1px #000,
        -1px -1px 1px #000,
         0    0   2px #000;
    }
    .video-view .video-container a { color: inherit; }
    .video-view .video-container > video,
    .video-view .video-container > img {
      /* z-index fixes Firefox where subs disappear when clicking
         video content a second time (to stop video playback) */
      z-index: auto;
      max-height: none;
      flex: none;
      margin: auto;
      height: 100%;
      min-width: 100%;
      transition: opacity 0.2s ease-in-out;
    }
    .video-view .video-container wbr { display: none; }
    .video-view .video-id {
      /* top-right corner */
      position: absolute; right: 8px; top: 4px;
      font-size: smaller;
      opacity: .75;
    }
    .video-view .video-id:hover { opacity: 1; }
    .video-view .video-subs {
      position: absolute; bottom: 4px;         /* subtitle placement */
      left: 0; right: 0;
      padding: 3px 2px 1px 2px;                /* don't truncate shadow */

      /* text: center or truncate if too long */
      white-space: nowrap;
      text-align: center;
      text-overflow: ellipsis;
      overflow: hidden;
      max-width: 100%;
    }
    .video-view .video-container a mark {
      background: rgba(255, 193, 0, .3);
      color: rgb(255, 193, 47);
    }
    .video-view .video-container a:focus mark,
    .video-view .video-container a:hover mark {
      text-decoration: underline rgb(255, 193, 47);
    }
    .video-view .video-feedback {
      width: 100%;
      height: 100%;
      position: absolute;
      background: no-repeat center/45px;
    }
    .video-view .video-feedback.anim {
      transition: all .5s ease-out;
      background-size: 90px;
      opacity: 0;
    }
    .video-view .video-feedback.play { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><circle r="22.5" cy="22.5" cx="22.5" style="isolation:auto;mix-blend-mode:normal" color="%23000" overflow="visible" opacity=".75" fill-rule="evenodd"/><path color="%23000" fill="%23fff" style="isolation:auto;mix-blend-mode:normal" overflow="visible" d="M33.25 22.5l-16.5 9.53V12.97z"/></svg>'); }
    .video-view .video-feedback.pause { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><circle r="22.5" cy="22.5" cx="22.5" style="isolation:auto;mix-blend-mode:normal" color="%23000" overflow="visible" opacity=".75" fill-rule="evenodd"/><path color="%23000" fill="%23fff" style="isolation:auto;mix-blend-mode:normal" overflow="visible" d="M15 15h5v15h-5zM25 15h5v15h-5z" fill-rule="evenodd"/></svg>'); }

    /*************************************************************************/

    hr {
      margin: 1em;
      border: 0;
      height: 2px;
      background: #000;
    }
    table {
      margin: .75em 0;
    }
    table tr {
      column-break-inside: avoid;
      -moz-column-break-inside: avoid;
      -webkit-column-break-inside: avoid;
    }
    table[border="1"] {
      border-collapse: collapse;
    }
    table[border="1"] > tr > th,
    table[border="1"] > tr > td,
    table[border="1"] > tbody > tr > th,
    table[border="1"] > tbody > tr > td {
      border: 1px solid #000;
      text-align: left;
      vertical-align: top;
      padding: .125em .25em;
    }
    table[border="1"] > tr > th,
    table[border="1"] > tbody > tr > th {
      text-align: center;
    }
    h1 { margin: .75em 0 .5em 0; }
    p { margin: 0; }
    p:empty + p { margin-top: 1em; }
    p:not(:empty) + p { text-indent: 1.5em; }

    .overlay {
      display: none;
      z-index: 10000;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, .75);
    }
    .overlay.hover:hover:before { opacity: 1; }
    .overlay:before {
      opacity: .4;
      position: absolute;
      display: block;
      line-height: 0;
      top: .5em;
      right: .5em;
      content: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16"><path d="M15 1L1 15M1 1l14 14" fill="none" stroke="%23fff" stroke-width="2"/></svg>');
      transition: all .1s ease-in-out;
    }
    .overlay section {
      margin: 1em 1.5em;
      background: #fff;
      overflow-y: scroll;
      padding: 0 1em 1em 1em;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }
    small { font-size: 90%; }
    a.tt,
    tt {
      color: inherit;
      word-spacing: .25em;
      white-space: nowrap;
      font-family: inherit;
      font-size: 95%;
      background: #ccc;
      border-radius: 4px;
      padding: 0 .25em;
    }

    /*************************************************************************/

    .tooltip mark {
      background: rgba(255, 255, 255, .2);
      color: inherit;
      padding: .125em 0;
    }
    #more {
      display: none;
      padding: .25em .5em;
      background: #07bccd;
    }
  </style>
</head>
<body>
  <noscript class=required>Javascript required.</noscript>
  <header>
    <textarea id=q rows=1 required autofocus></textarea>
    <button id=help>?</button>
  </header>
  <main class=video-view>
    <div class=status>
      <span id=xstatus></span>
      <span id=select>
        <span class=video>video</span>
        <span class=switch></span>
        <span class=text>text</span>
      </span>
    </div>
    <div id=results></div>
  </main>
  <center><button id=more>Visa fler träffar…</button></center>
  <aside id=noresults style="display:table;min-width:12em;max-width:22em;width:75%;margin:auto">
    <h1>Tecken­språks­lexikon</h1>

    <p>Sök på svenska, tecken­språk (tran­skrip­tion) eller ID-nummer!

    <p>Skriv tran­skrip­tion med tangent­bordet i
    sök­fältet <nobr>(<img src="pic/gui/keyboard.svg"
    style="height:.6em">)</nobr> eller genom att klicka på en tran­skrip­tion i
    sök­resul­tatet. <a href="javascript:overlay.show()">Mer sök­hjälp.</a>

    <p><p>Data från <i><a href="https://teckensprakslexikon.su.se/">Svenskt
    tecken­språks­lexikon</a></i> (upp­date­rat <span id=lexicon-date>0x månad
    20xx</span>). Inne­håller <span id=lexicon-size>00000</span> tecken.
  </aside>
  <footer>
    © 2017–2018 <a href="mailto:lexikon@zrajm.org">zrajm</a>, Uppsala.
  </footer>
  <div class="overlay help">
    <section tabindex=0>
      <h1>Tips</h1>
      <div class=columns>

        <p><tt>04194,<wbr>02408,<wbr>04888</tt> id-nummer med komma­tecken
        emellan är ett enkelt sätt att göra en gloslista att skicka till någon
        annan.

        <p><p><tt>@</tt> matchar alla <i>kroppslägen</i> i
        transkriptionen. <tt>-@</tt> kan användas för att utesluta alla tecken
        med kroppsläge.

        <p><p><tt>-􌥠</tt> utesluter sammansatta tecken (tecken med mer än ett
        segment). Om du istället vill <i>hitta</i> samman­satta tecken kan du
        <i>lägga till</i> <tt>􌥠</tt> till din sökning (eller kanske
        rentav <tt>􌥠*􌥠</tt> eller <tt>􌥠*􌥠*􌥠</tt> för att hitta tecken med fler
        segment).

        <p><p><tt>:##:</tt> hittar två­hands­tecken där båda händerna är aktiva.

        <p><tt>#:#:</tt> hittar två­hands­tecken med en aktiv och en passiv
        hand.

        <p><tt>-:##: -#:#:</tt> utesluter alla två­hands­tecken (dvs hittar
        bara en­hands­tecken).

        <p><p>Transkriptioner är fiddliga och det är oftast inte helt
        självklart hur något ska transkriberas om man bara sett ett tecken
        utföras. Om man kan ett ord med en liknande rörelse kan det vara värt
        att söka upp det ordet på svenska, klicka på det ordets transkription
        och sedan modifiera transkriptionen i sökningen tills man hittar rätt.
      </div>

      <h1>Kontrollsymboler</h1>
      <div class=columns>

        <center><table border=1 style="margin-top:.25em">
          <tr>
            <th><tt>"…"</tt>
            <td>Frassökning
          <tr>
            <th><tt>-…</tt>
            <td>Exkludera träff
          <tr>
            <th><tt>… …</tt>
            <td>Logiskt <i>och</i> (mellanslag)
          <tr>
            <th><tt>…, …</tt>
            <td>Logiskt <i>eller</i>
        </table></center>

        <p id=fras><tt>"…"</tt> Frassökning – mellanslag och andra tecken som
        står inom citat­symbolerna måste matcha exakt.

        <p>Används när du vill söka efter en fras (tex <tt>"har gjort"</tt>)
        eller när du vill använda någon av special­symbolerna i sin
        ursprungliga betydelse. (<tt>"􌤆"</tt> hittar alla tecken som
        har <i>ansiktet</i> som uttalställe, medan <tt>􌤆</tt> (utan
        citat­symboler) också hittar de som har <i>pannan, munnen, näsan</i>
        etc).

        <p>Du kan också citera delar av ett ord. Om du tex skulle vilja hitta
        alla ord med två aktiva händer som har uttalsställe <i>ansiktet</i> så
        kan du använda <tt>"􌤆":##:</tt>.

        <p><p><tt>-…</tt> Exkludera träffar – används tillsammans med ett annat
        sökuttryck när du vill ta bort en del av träffarna. Om du tex letar
        efter ett tecken som använder <i>R-handen</i> och du vet att tecknet
        inte är sammansatt så kan du söka på <tt>􌤬 -􌥠</tt>.

        <p>Inuti (eller i slutet) på ord har minus ingen särskild effekt, en
        sökning på <tt>platt-tv</tt> hittar alla förekomster av ’platt-tv’,
        medan <tt>platt -tv</tt> hittar alla tecken vars översättning
        innehåller ’platt’ men <i>inte</i> ’tv’. Vill du ha ett minustecken
        först använder du citatsymboler <tt>"-tv"</tt>.

        <p><p><tt>… …</tt> Logiskt <i>och</i> – betyder att <i>både</i> det som
        står före och det som står efter mellanslaget måste finnas med för att
        sökningen ska matcha. Om du söker på <tt>har gjort</tt> hittar du alla
        tecken vars översättning innehåller både ordet ’har’ och ordet ’gjort’
        (oavsett vilken ordning de kommer), medan om du söker på <tt>har
        gjort</tt> så måste orden finnas med som en fras för att matcha.

        <p><p><tt>…, …</tt> Logiskt <i>eller</i> – betyder att <i>antingen</i>
        det som kommer före kommat, eller det som kommer efter behöver finnas
        med för att sökningen ska matcha. <tt>har, gjort</tt> hittar således
        alla tecken som har antingen ’har’ eller ’gjort’ (eller båda) i sin
        översättning.

        <p>Komma hanteras alltid först så om du har ett komplicerat uttryck med
        som du vill söka på i några små variationer, så måste du dessvärre
        upprepa hela det komplicerade uttrycket på vardera sidan om kommat
        (tex <tt>@:􌤢#:*􌤟, @:􌥃#:*􌤟</tt>).
      </div>

      <h1>Mönstermatchning</h1>
      <div class=columns>

        <p>Dessa symboler matchar fler än en symbol i en sökning, utom om de
        står inom citat­symboler (<a href="#fras">se ovan</a>).

        <center><table border=1>
          <tr>
            <th><tt>*</tt>
            <td>Allt utom mellanslag och 􌥠 (i tran­skript­ion)
          <tr>
            <th><tt>$</tt>
            <td><i>Ord-/segmentgräns</i>
          <tr>
            <th><tt>#</tt>
            <td><i>Handform</i>
          <tr>
            <th><tt>:</tt>
            <td><i>Attityd</i> (= <i>riktning</i> + <i>vändning</i>)
          <tr>
            <th><tt>^</tt>
            <td><i>Relationsymbol</i>
          <tr>
            <th><tt>@</tt>
            <td><i>Kroppslägen</i>
          <tr>
            <th><tt>􌤆</tt>
            <td><i>Ansiktet</i>
          <tr>
            <th><tt>􌤂</tt>
            <td><i>Övre ansikte</i> (<i>öra, kind, näsa</i> och uppåt)
          <tr>
            <th><tt>􌥞</tt>
            <td><i>Nedre ansikte</i>  (<i>öra, kind, näsa</i> och nedåt)
          <tr>
            <th><tt>􌥜</tt>
            <td><i>Armen</i>
          <tr>
            <th><tt>􌤠</tt>
            <td><i>Axlarna</i>
          <tr>
            <th><tt>􌤓</tt>
            <td><i>Bröstet</i>
          <tr>
            <th><tt>􌤗</tt>
            <td><i>Höfterna</i>
        </table></center>

        <p><p><tt>*</tt> matchar noll eller fler tecken i rad som är av
        alfabetisk karaktär (bokstäver, siffror och transkriptionssymboler –
        men inte mellanslag eller <small>􌥠</small>, separatorn mellan segment i
        transkriptionen).

        <p>Säg tex att du letar efter ett tecken som har
        uttalsställe <i>bröstet</i> och i vilket handformen förändras – då kan
        du söka på <tt>􌤓*􌦆</tt> (hade du sökt på <tt>􌤓 􌦆</tt> så skulle du
        hittat alla tecken som hade bägge symbolerna in sin transkription,
        oavsett om det var i samma segment eller inte).

        <p><p><tt>$</tt> matchar gränsen mellan ett ord och ett ordmellanrum
        (eller transkription och transkriptions­separator). Den används för att
        tvinga ett sökuttryck att matcha i början eller slutet av ett ord
        (eller transkription). Så <tt>$bo</tt> måste komma först i ett ord, och
        matchar därför ’bok’ (och ’bo’) men inte ’sambo’. Om du använder ett
        dollartecken både i början och i slutet (<tt>$bo$</tt>) så matchar det
        bara hela ord.

        <p><p>Det finns också en uppsättning lägessymboler i tabellen som är
        lite mer ”fluffiga” – symbolen för <i>ansiktet</i> (<small>􌤆</small>)
        matchar inte bara alla positioner i ansiktet från pannan ner till
        hakan. Detta är bra när man har en hum, men inte vet exakt var ett
        tecken ska uttalas.

        <p><p>Utöver symbolerna i tabellen så försöker sökmotorn hjälpa dig med
        bra saker så långt som möjligt. Om du inte har skrivit ut
        en <i>relationssymbol</i> i din sökning, eller har utelämnat en
        riktnings­specifikation under båge/cirkel/slås/studs/vrids och
        konvergerar/divergerar så kommer din sökning matcha oavsett vilken
        relation/riktnings­specifikation som står i lexikonet. Om du <i>har</i>
        angivit dessa, så matchar förstås din sökning bara om den
        överrens­stämmer med det som står i lexikonet.
      </div>
    </section>
  </div>
  <script src="jquery-3.3.1.min.js"></script>
  <script src="imagesloaded.pkgd.min.js"></script>
  <script src="lexicon.js"></script>
  <script src="lexicon-data.js"></script>
  <script src="keyboard.js"></script>
  <script>transcriptKeyboard($('#q'))</script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-5434527-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-5434527-3');
  </script>
</body>
</html>
