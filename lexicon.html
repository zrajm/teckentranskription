<!doctype html>
<html lang=sv>
<head>
  <!-- Copyright 2017 by zrajm. Released under GPLv3 license. -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
  <title>TSP-Lex!</title>
  <link rel=stylesheet href="intro.css">
  <link rel=license href="LICENSE.txt">
  <style>
    @-ms-viewport{ width: device-width; }
    /* Search query <textarea> */
    #q {
        padding-left: .5em; line-height: 1.4;
        border: 0; border-radius: 4px;
        transition: background 0.2s ease-out;
        background:
            url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="17.49" height="17.49" fill="%23fff"><path d="M6.5 11C4.01 11 2 8.99 2 6.5S4.01 2 6.5 2 11 4.01 11 6.5 8.99 11 6.5 11zm6 0h-.79l-.28-.27A6.471 6.471 0 0 0 13 6.5 6.5 6.5 0 1 0 6.5 13c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L17.49 16l-4.99-5z" fill="%23000" fill-opacity=".498"/></svg>') center left .5em/auto 1em no-repeat,
            rgba(255, 255, 255, .5);
    }
    #q:valid { background-image: url(); } /* remove placeholder icon */
    #q:focus,
    #kb-icon:focus { background-color: white; }
    #kb-icon { background: transparent; }

    main { margin: 0 1em; }
    footer, .status {
      font-size: smaller;
      margin: .5em 0;
      opacity: .5;
    }
    header {
      background: #07BCCD;
      padding: .5em 1em;
      box-shadow: 0 0 8px 4px rgba(0, 0, 0, .14);
    }

    /*************************************************************************/
    #select { float:right; }
    #select > .switch {
      vertical-align: middle;
      display: inline-block;
      width: 2em;
      height: 1em;
      background: #ccc;
      border: 1px solid black;
      border-radius: 4px;
      box-shadow: inset 0 2px 5px 3px #999;
      position: relative;
    }
    #select > .switch:before {
      transition: all .05s ease-in;
      content: '';
      width: 50%;
      height: 100%;
      background: white;
      position: absolute;
      border: inherit;
      border-radius: inherit;
      margin: -1px;
    }
    .text-view #select > .switch:before { right: 0; }
    .video-view #select > .switch:before { left: 0; }
    .video-view #select > .video { font-weight: bold; }
    .text-view #select > .text { font-weight: bold; }
    /*************************************************************************/

    .text-view #results {
      column-gap: 1em;
      column-width: 14em;
      margin: .25em 0;
      text-align: left;
    }
    .text-view #result > div.match {
      margin: .125em 0;
      text-indent: -1em;
      padding-left: 1em;
    }
    .text-view .video-container {
      display: inline;
    }
    .text-view .video-container,
    .text-view .video-container > * {
      margin: .125em;
      display: inline;
    }
    .text-view .video-container,
    .text-view .video-container .video-id { margin-left: 0; }

    .text-view .video-container > img,
    .text-view .video-feedback {
      display: none;
    }
    .text-view .video-id:hover { opacity: 1; }
    .text-view .video-subs {
      opacity: .65;
      color: #000;
    }
    .text-view .video-container .spelled {
      text-transform: lowercase;
      font-variant: small-caps;
    }
    /*************************************************************************/
    .video-view #results {
      margin: .25em 0;
      text-align: left;
    }
    /* space between #results matches */
    .video-view #results { word-spacing: .5em; }
    .video-view #results > * { word-spacing: normal; }

    .video-view #results > div.match {
      display: inline-block;
      width: 270px;                            /* same as .video-container */
      margin: .25em 0 .25em 0;

      /* text: center or truncate if too long */
      white-space: nowrap;
      text-align: center;
      text-overflow: ellipsis;
      overflow: hidden;
    }
    .video-view .video-container.is-loading {
      background-image: url(pic/gui/image-loading.jpg);
    }
    .video-view .video-container.is-broken {
      background-image: url(pic/gui/image-broken.svg),
        url(pic/gui/image-loading.jpg);
    }
    .video-view .video-container.is-loading img,
    .video-view .video-container.is-broken img {
      opacity: 0;                              /* hide but allow clicks etc. */
    }
    .video-view .video-container {
      background: no-repeat center url(pic/gui/image-loading.jpg) #07BCCD;
      position: relative;  /* for subtitle+id positioning */
      border-radius: 4px;

      /* center video + truncate sides for 16:19 videos */
      overflow: hidden;
      display: flex;
      justify-content: center;
      width: 270px;                            /* same as #results > div.match */
      height: 202px;

      /* text color + outline */
      color: #fff;
      text-shadow:
         1px  1px 1px #000,
         1px -1px 1px #000,
        -1px  1px 1px #000,
        -1px -1px 1px #000,
         0    0   2px #000;
    }
    .video-view .video-container a { color: inherit; }
    .video-view .video-container > video,
    .video-view .video-container > img {
      /* z-index fixes Firefox where subs disappear when clicking
         video content a second time (to stop video playback) */
      z-index: auto;
      max-height: none;
      flex: none;
      margin: auto;
      height: 100%;
      min-width: 100%;
      transition: opacity 0.2s ease-in-out;
    }
    .video-view .video-container wbr { display: none; }
    .video-view .video-id {
      /* top-right corner */
      position: absolute; right: 8px; top: 4px;
      font-size: smaller;
      opacity: .75;
    }
    .video-view .video-id:hover { opacity: 1; }
    .video-view .video-subs {
      position: absolute; bottom: 4px;         /* subtitle placement */
      padding: 3px 2px 1px 2px;                /* don't truncate shadow */

      /* text: center or truncate if too long */
      white-space: nowrap;
      text-align: center;
      text-overflow: ellipsis;
      overflow: hidden;
      max-width: 100%;
    }
    .video-view .video-container a mark {
      background: rgba(255, 193, 0, .3);
      color: rgb(255, 193, 47);
    }
    .video-view .video-container a:focus mark,
    .video-view .video-container a:hover mark {
      text-decoration: underline rgb(255, 193, 47);
    }
    .video-view .video-container .spelled {
      text-transform: lowercase;
      font-variant: small-caps;
    }
    .video-view .video-feedback {
      width: 100%;
      height: 100%;
      position: absolute;
      background: no-repeat center/45px;
    }
    .video-view .video-feedback.anim {
      transition: all .5s ease-out;
      background-size: 90px;
      opacity: 0;
    }
    .video-view .video-feedback.play { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><circle r="22.5" cy="22.5" cx="22.5" style="isolation:auto;mix-blend-mode:normal" color="%23000" overflow="visible" opacity=".75" fill-rule="evenodd"/><path color="%23000" fill="%23fff" style="isolation:auto;mix-blend-mode:normal" overflow="visible" d="M33.25 22.5l-16.5 9.53V12.97z"/></svg>'); }
    .video-view .video-feedback.pause { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><circle r="22.5" cy="22.5" cx="22.5" style="isolation:auto;mix-blend-mode:normal" color="%23000" overflow="visible" opacity=".75" fill-rule="evenodd"/><path color="%23000" fill="%23fff" style="isolation:auto;mix-blend-mode:normal" overflow="visible" d="M15 15h5v15h-5zM25 15h5v15h-5z" fill-rule="evenodd"/></svg>'); }
    /*************************************************************************/
    .tooltip mark {
      background: rgba(255, 255, 255, .2);
      color: inherit;
      padding: .125em 0;
    }
    #more {
      display: none;
      padding: .25em .5em;
      background: #07bccd;
    }
  </style>
</head>
<body>
  <noscript class=required>Javascript required.</noscript>
  <header>
    <textarea id=q rows=1 required></textarea>
  </header>
  <main class=video-view>
    <div class=status>
      <span id=xstatus></span>
      <span id=select>
        <span class=video>video</span>
        <span class=switch></span>
        <span class=text>text</span>
      </span>
    </div>
    <div id=results></div>
  </main>
  <center><button id=more>Visa fler träffar…</button></center>
  <footer>
    <div style="margin-bottom:.5em"><span id=lexicon-updated></span>
      <br>Data från <a href="https://teckensprakslexikon.su.se/">Svenskt
      teckenspråkslexikon</a>.</div>
    <a href="." title="En sida för att transkribera teckenspråk."
       >Transkription</a> |
    <a href="https://github.com/zrajm/teckentranskription/blob/master/README.md"
       title="Engelsk beskrivning av det här projektet."
       >Om</a> |
    <a href="https://github.com/zrajm/teckentranskription/issues"
       title="GitHubs issue tracker för det här projektet."
       >Rapportera fel</a> |
    <a href="https://github.com/zrajm/teckentranskription"
       title="GitHub-repo för den här sidan sida."
       >GitHub</a> |
    <a href="freesans-swl.html"
       title="Ett typsnitt för att transkribera teckenspråk."
       >Unicodetypsnitt</a>
    <br>© 2017–2018 zrajm, Uppsala.
  </footer>
  <script src="jquery-3.3.1.min.js"></script>
  <script src="imagesloaded.pkgd.min.js"></script>
  <script src="lexicon.js"></script>
  <script src="lexicon-data.js"></script>
  <script src="keyboard.js"></script>
  <script>transcriptKeyboard($('#q'))</script
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-5434527-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-5434527-3');
  </script>
</body>
</html>
